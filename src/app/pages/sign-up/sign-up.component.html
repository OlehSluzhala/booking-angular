<main class="page hire-me-page">
  <section class="home-block hire-me sign-up-padding-top">
    <div class="container">
      <div class="heading sign-up-margin-bottom">
        <h2>Sign Up</h2>
      </div>
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label>Email</label>
          <input
            type="email"
            formControlName="email"
            class="form-control"
            [ngClass]="{
              'is-invalid': f.email.errors && ((f.email.touched || f.email.dirty) || submitted)
            }"
            (ngModelChange)="checkEmail()"
          />
          <div
            *ngIf="f.email.errors && ((f.email.touched || f.email.dirty) || submitted)"
            class="invalid-feedback"
          >
            <div *ngIf="f.email.errors?.required">Email is required</div>
            <div *ngIf="f.email.errors?.email || f.email.errors?.pattern">
              Email must be a valid email address
            </div>
            <div *ngIf="f.email.errors?.validateEmail">
              Incorrect email entry
            </div>
          </div>
        </div>
        <div class="form-group">
          <label>Phone Number</label>
          <input
            type="tel"
            formControlName="number"
            class="form-control"
            [ngClass]="{
              'is-invalid':
                f.number.errors && ((f.number.touched || f.number.dirty) || submitted)
            }"
            [showMaskTyped]="true"
            prefix="+38"
            mask="(000)000-00-00"
            (ngModelChange)="checkNumber()"
          >
          <div
            *ngIf="f.number.errors && ((f.number.touched || f.number.dirty) || submitted)"
            class="invalid-feedback"
          >
            <div *ngIf="f.number.errors.required">Number is required</div>
            <div *ngIf="f.number.errors.minlength || f.number.errors.maxlength">
              Number must be at least 10 characters
            </div>
            <div *ngIf="f.number.errors?.pattern">
              The number must begin with 0
            </div>
            <div *ngIf="f.number.errors?.validatePhone">
              Incorrect telecom operator code (Ukraine)
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label>First Name</label>
          <input
            type="text"
            formControlName="firstName"
            class="form-control"
            [ngClass]="{
              'is-invalid':
                f.firstName.errors && ((f.firstName.touched || f.firstName.dirty) || submitted)
            }"
          />
          <div *ngIf=" f.firstName.errors && ((f.firstName.touched || f.firstName.dirty) || submitted)" class="invalid-feedback">
            <div *ngIf="f.firstName.errors?.required">
              First Name is required
            </div>
            <div *ngIf="f.firstName.errors.minLength">
              Minimum name length 3 characters
            </div>
            <div *ngIf="f.firstName.errors.maxLength">
              Maximum name length 30 characters
            </div>
            <div *ngIf="f.firstName.errors?.pattern || f.firstName.errors.validateName">
              Invalid name entry
            </div>
          </div>
        </div>
        <div class="form-group">
          <label>Last Name</label>
          <input
            type="text"
            formControlName="lastName"
            class="form-control"
            [ngClass]="{
              'is-invalid':
                f.lastName.errors &&
                  ((f.lastName.touched || f.lastName.dirty) || submitted)
            }"
          />
          <div *ngIf="
              f.lastName.errors && ((f.lastName.touched || f.lastName.dirty) || submitted)"  class="invalid-feedback">
            <div *ngIf="f.lastName.errors.required">Last Name is required</div>
            <div *ngIf="f.lastName.errors.minLength">
              Minimum surname length 3 characters
            </div>
            <div *ngIf="f.lastName.errors.maxLength">
              Maximum surname length 30 characters
            </div>
            <div *ngIf="f.lastName.errors?.pattern || f.lastName.errors?.validateName">
              Invalid surname entry
            </div>
          </div>
        </div>
        <div class="form-group">
          <label>Password</label>
          <div class="input-group">
            <input
              [type]=" show ? 'text' : 'password'"
              formControlName="password"
              class="form-control"
              [ngClass]="{
              'is-invalid':
                f.password.errors && ((f.password.touched || f.password.dirty) || submitted)
            }"
              
            /> <div class="input-group-addon">
              <a (click)="show=!show">
                <fa-icon *ngIf="!show" [icon]="faEyeSlash" ></fa-icon>
                <fa-icon *ngIf="show" [icon]="faEye" ></fa-icon>
              </a>
            
          </div>
          <div *ngIf="f.password.errors && ((f.password.touched || f.password.dirty) || submitted)" class="invalid-feedback">
            <div *ngIf="f.password.errors?.required">Password is required</div>
            <div *ngIf="f.password.errors?.minlength"> Password must be at least 6 characters</div>
            <div *ngIf="f.password.errors?.validatePassword">Password too easy</div>
          </div>
        </div>
        </div>
        <div class="form-group">
          <label>Repeat the password</label>
          <div class="input-group">
          <input
          [type]=" showRepeat ? 'text' : 'password'"
            formControlName="repeatPassword"
            class="form-control"
            [ngClass]="{
              'is-invalid':
                (f.repeatPassword.errors &&
                  (f.repeatPassword.touched || f.repeatPassword.dirty)) ||
                registerForm.hasError('validatePasswords')
            }"/>
            <div class="input-group-addon">
              <a (click)="showRepeat=!showRepeat">
                <fa-icon *ngIf="!showRepeat" [icon]="faEyeSlash" ></fa-icon>
                <fa-icon *ngIf="showRepeat" [icon]="faEye" ></fa-icon>
              </a>
            
          </div>
          <div *ngIf="
               (f.repeatPassword.errors &&  (f.repeatPassword.touched || f.repeatPassword.dirty)) || registerForm.hasError('validatePasswords')
           "  class="invalid-feedback">
            <div *ngIf="f.repeatPassword.errors?.required">
              Password is required
            </div>
            <div *ngIf="f.repeatPassword.errors?.minlength">
              Password must be at least 6 characters
            </div>
            <div *ngIf="registerForm.hasError('validatePasswords')">
              Passwords do not match
            </div>
            </div>
          </div>
        </div>
        <div class="form-group">
          <button class="btn btn-primary btn-block"   type="submit" [disabled]="this.registerForm.invalid">
            Sign Up
          </button>
        </div>
      </form>
    </div>
  </section>
</main>
